mapreduce:
- name: Delete all entities of a given kind
  mapper:
    input_reader: mapreduce.input_readers.DatastoreInputReader
    handler: mappers.delete
    params:
    - name: entity_kind
      default: mol.db.Species

      
- name: Set range map boolean on SpeciesIndex
  mapper:
    input_reader: mapreduce.input_readers.DatastoreInputReader
    handler: mappers.set_range_map
    params:
    - name: entity_kind
      default: mol.db.SpeciesIndex
    - name: shard_count
      default: 2
    - name: processing_rate
      default: 800 
            
- name: Process queued Tiles stored in TileUpdate
  mapper:
    input_reader: mapreduce.input_readers.DatastoreInputReader
    handler: mappers.interpolate
    params:
    - name: entity_kind
      default: mol.db.TileUpdate
    - name: shard_count
      default: 2
 
- name: Fix lower case wwf in Entity.source
  mapper:
    input_reader: mapreduce.input_readers.DatastoreInputReader
    handler: mappers.capitalize_source
    params:
    - name: entity_kind
      default: mol.db.MultiPolygon
    - name: shard_count
      default: 4
      
- name: Add missing subname
  mapper:
    input_reader: mapreduce.input_readers.DatastoreInputReader
    handler: mappers.add_subname
    params:
    - name: entity_kind
      default: mol.db.MultiPolygon
    - name: shard_count
      default: 4

- name: Move TileSetIndex to MultiPolygon
  mapper:
    input_reader: mapreduce.input_readers.DatastoreInputReader
    handler: mappers.move_tile_set
    params:
    - name: entity_kind
      default: mol.db.TileSetIndex
    - name: shard_count
      default: 4
